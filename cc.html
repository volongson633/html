<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Qu·ªπ L·ªõp 10A1</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* S·ª≠ d·ª•ng ·∫£nh n·ªÅn t·ª´ link b·∫°n cung c·∫•p */
        body { 
            background: url('https://cdn.tgdd.vn//GameApp/1302823//anhh2-800x450.jpg') no-repeat center center fixed; 
            background-size: cover;
            transition: background 0.5s ease, color 0.5s ease;
            font-family: 'Inter', sans-serif;
        }

        /* Hi·ªáu ·ª©ng k√≠nh trong su·ªët (Glassmorphism) */
        .glass {
            background: rgba(255, 255, 255, 0.75);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 1.5rem;
        }

        /* Ch·∫ø ƒë·ªô t·ªëi cho hi·ªáu ·ª©ng k√≠nh */
        .dark .glass {
            background: rgba(15, 23, 42, 0.85);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #f1f5f9;
        }

        /* T√πy ch·ªânh thanh cu·ªôn cho m·ª•c b√¨nh lu·∫≠n */
        .custom-scroll::-webkit-scrollbar { width: 5px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 10px; }

        .dark-toggle-btn {
            box-shadow: 0 4px 14px 0 rgba(0,0,0,0.3);
        }
    </style>
</head>
<body class="p-4 md:p-8 min-h-screen">

    <div class="max-w-6xl mx-auto">
        <header class="glass p-6 mb-8 flex flex-col md:flex-row justify-between items-center gap-4 shadow-2xl">
            <div class="text-center md:text-left">
                <h1 class="text-3xl font-black text-indigo-700 dark:text-indigo-400">üè´ 10A1 SMART DASHBOARD</h1>
                <p class="text-slate-600 dark:text-slate-400 font-medium italic">Minh b·∫°ch t√†i ch√≠nh - Vui ch∆°i h·∫øt m√¨nh</p>
            </div>
            
            <div class="flex items-center gap-5">
                <button onclick="toggleDarkMode()" id="modeBtn" class="dark-toggle-btn bg-slate-800 text-white dark:bg-amber-400 dark:text-slate-900 px-5 py-2.5 rounded-2xl font-bold transition-all transform hover:scale-105 active:scale-95 text-sm">
                    üåô Ch·∫ø ƒë·ªô T·ªëi
                </button>
                <div class="text-right">
                    <span class="text-[10px] font-bold text-slate-500 uppercase tracking-widest">Ng√¢n s√°ch hi·ªán t·∫°i</span>
                    <p class="text-3xl font-black text-emerald-600 drop-shadow-sm">2,500,000ƒë</p>
                </div>
            </div>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <div class="lg:col-span-2 space-y-8">
                <div class="glass p-8 shadow-xl min-h-[400px]">
                    <h2 class="text-xl font-bold mb-6 flex items-center gap-2">
                        <span>üìä</span> K·∫øt qu·∫£ B√¨nh ch·ªçn tr·ª±c tuy·∫øn
                    </h2>
                    <div class="h-64">
                        <canvas id="votingChart"></canvas>
                    </div>
                </div>

                <div class="glass p-8 shadow-xl">
                    <h2 class="text-xl font-bold mb-4 flex items-center gap-2 text-indigo-600 dark:text-indigo-300">
                        üí¨ √ù ki·∫øn ƒë√≥ng g√≥p ·∫©n danh
                    </h2>
                    <div id="chatFeed" class="h-56 overflow-y-auto mb-6 pr-2 space-y-4 custom-scroll">
                        <div class="bg-white/40 dark:bg-slate-800/40 p-4 rounded-2xl border-l-4 border-indigo-500">
                            <p class="text-sm">"M√¨nh nghƒ© n√™n d√†nh 20% qu·ªπ ƒë·ªÉ mua qu√† sinh nh·∫≠t cho c√°c b·∫°n trong th√°ng."</p>
                            <span class="text-[10px] font-bold text-indigo-600 dark:text-indigo-400 mt-2 block">‚Äî ·∫®n danh #001</span>
                        </div>
                    </div>
                    
                    <div class="flex gap-3">
                        <input type="text" id="userInput" placeholder="G√≥p √Ω ·∫©n danh t·∫°i ƒë√¢y..." 
                               class="flex-1 bg-white/50 dark:bg-slate-900/50 border-0 rounded-2xl px-5 py-3 outline-none focus:ring-2 focus:ring-indigo-500 transition-all">
                        <button onclick="postComment()" class="bg-indigo-600 text-white px-8 py-3 rounded-2xl font-bold hover:bg-indigo-700 shadow-lg active:scale-95 transition-transform">
                            G·ª≠i
                        </button>
                    </div>
                </div>
            </div>

            <div class="glass p-8 shadow-xl border-b-8 border-indigo-500 h-fit">
                <h2 class="text-xl font-bold mb-2">üó≥Ô∏è Tr∆∞ng c·∫ßu √Ω ki·∫øn</h2>
                <p class="text-xs text-slate-500 dark:text-slate-400 mb-8 italic">M·ªçi l·ª±a ch·ªçn ƒë·ªÅu ƒë∆∞·ª£c bi·ªÉu quy·∫øt d√¢n ch·ªß</p>
                
                <div id="votingItems" class="space-y-8">
                    </div>
            </div>
        </div>
    </div>

    <script>
        // D·ªØ li·ªáu ban ƒë·∫ßu
        const options = [
            { label: 'Tr√† s·ªØa cu·ªëi tu·∫ßn', votes: 12, color: '#6366f1' },
            { label: 'Mua b√≥ng ƒë√° m·ªõi', votes: 8, color: '#10b981' },
            { label: 'D√£ ngo·∫°i c√¥ng vi√™n', votes: 5, color: '#f59e0b' }
        ];

        // Kh·ªüi t·∫°o Bi·ªÉu ƒë·ªì
        const ctx = document.getElementById('votingChart').getContext('2d');
        const myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: options.map(o => o.label),
                datasets: [{
                    label: 'S·ªë phi·∫øu',
                    data: options.map(o => o.votes),
                    backgroundColor: options.map(o => o.color),
                    borderRadius: 12
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: { 
                    y: { beginAtZero: true, grid: { display: false } },
                    x: { grid: { display: false } }
                }
            }
        });

        // V·∫Ω danh s√°ch n√∫t b√¨nh ch·ªçn
        function drawPolls() {
            const container = document.getElementById('votingItems');
            container.innerHTML = '';
            options.forEach((opt, idx) => {
                container.innerHTML += `
                    <div class="group">
                        <div class="flex justify-between items-center mb-2">
                            <span class="font-bold text-sm tracking-tight">${opt.label}</span>
                            <div class="flex items-center gap-2 bg-slate-200/50 dark:bg-slate-700/50 p-1 rounded-xl">
                                <button onclick="updateVote(${idx}, -1)" class="w-8 h-8 flex items-center justify-center bg-white dark:bg-slate-600 rounded-lg shadow-sm text-red-500 font-bold hover:bg-red-50">-</button>
                                <span class="w-6 text-center font-black">${opt.votes}</span>
                                <button onclick="updateVote(${idx}, 1)" class="w-8 h-8 flex items-center justify-center bg-white dark:bg-slate-600 rounded-lg shadow-sm text-green-500 font-bold hover:bg-green-50">+</button>
                            </div>
                        </div>
                        <div class="w-full bg-slate-200 dark:bg-slate-800 h-2.5 rounded-full overflow-hidden">
                            <div class="h-full transition-all duration-500" style="width: ${opt.votes * 4}%; background-color: ${opt.color}"></div>
                        </div>
                    </div>`;
            });
        }

        function updateVote(index, amount) {
            if (options[index].votes + amount >= 0) {
                options[index].votes += amount;
                myChart.data.datasets[0].data = options.map(o => o.votes);
                myChart.update();
                drawPolls();
            }
        }

        // Ch·∫ø ƒë·ªô s√°ng t·ªëi
        function toggleDarkMode() {
            document.documentElement.classList.toggle('dark');
            const isDark = document.documentElement.classList.contains('dark');
            document.getElementById('modeBtn').innerText = isDark ? "‚òÄÔ∏è Ch·∫ø ƒë·ªô S√°ng" : "üåô Ch·∫ø ƒë·ªô T·ªëi";
        }

        // B√¨nh lu·∫≠n ·∫©n danh
        function postComment() {
            const input = document.getElementById('userInput');
            const feed = document.getElementById('chatFeed');
            if (input.value.trim()) {
                const id = Math.floor(100 + Math.random() * 900);
                const div = document.createElement('div');
                div.className = "bg-white/40 dark:bg-slate-800/40 p-4 rounded-2xl border-l-4 border-indigo-500 transition-all opacity-0 translate-y-2";
                div.innerHTML = `
                    <p class="text-sm">"${input.value}"</p>
                    <span class="text-[10px] font-bold text-indigo-600 dark:text-indigo-400 mt-2 block">‚Äî ·∫®n danh #${id}</span>
                `;
                feed.prepend(div);
                setTimeout(() => { div.classList.remove('opacity-0', 'translate-y-2'); }, 10);
                input.value = '';
                feed.scrollTop = 0;
            }
        }

        drawPolls();
    </script>
</body>
</html>